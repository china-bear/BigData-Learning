https://juejin.cn/post/6844904098198716423

在进入正文之前，先来理解两个概念：钻取与上卷

钻取(Drill-down)：也称作下钻，通过增加维度来查看更进一步的明细数据，如在查看不同年份的销售总额，可以钻取查看每年所有月份的销售额。钻取旨在增加维度得到明细数据
上卷(Roll-up)：也称作上钻，与钻取相反，通过减少维度来查看进一步汇总数据，如在查看所有月份的销售总额，可上卷查看每年的销售额。上卷旨在减少维度得到汇总数据

GROUPING SETS，CUBE，ROLLUP 这几个增强聚合函数常用于 OLAP 分析中需要根据不同维度上卷和钻取的指标统计，比如计算分小时、天、周、月的 UV

总结
grouping set是一个更加灵活的做分组维度聚合的函数，可以适应更多的场景。
cube和rollup在完全适用于场景时，有着更简单的写法和效率，cube和rollup的区别是CUBE会根据指定列进行所有组合，rollup会根据顺序从左到右进行组合
可以使用grouping进行空值判断，用更有意义字符串填充 NULL
grouping__id代表一个分组的唯一id，可以使用grouping__id进行粒度区分



#数仓规划
##什么是数据集市？
数据集市是数据仓库的一个子集, 通常专注于某些特定的业务线（例如财务、营销或销售）,部门或主题领域. 数据集市为特定的用户组提供特定数据, 使这些用户可以快速访问并获得所需信息,通常位于数据应用层,依赖于公共层的整合数据, 而无需浪费时间搜索整个数据仓库.
目前大部分公司的数据集市主要有两种模式，星型和雪花型.
星型:星型模式是多维数据库中表的逻辑结构，其形状类似于星形。在此模式中，一个事实表（与特定业务事件或流程相关的指标集）位于星形的中心, 周围环绕着几个相关的维度表. 各维度表之间相互独立没有连接的结构使查询更容易, 因此星型模式对于想要访问和导航大型数据集的分析师来说非常高效.
雪花型:雪花模式由星型模式的逻辑扩展而来，使用附加维度表来构建生成。规范化的维度表用来保护数据的完整性并确保数据最小化。使用雪花模式的主要好处是对磁盘空间的需求较低，但需要注意的是，附加的维度表会对性能产生负面影响.

##什么是主题域?
主题域用于将数据集市按照分析视角进行划分, 通常是联系较为紧密的数据主题的集合. 您可以根据业务的关注点,将这些数据主题划分至不同的主题域. 例如: 电商行业通常分为交易域、会员域、商品域等.
前提条件：已创建数据集市


#维度建模
## 什么是逻辑模型： 应用表
应用表是面向具体业务场景时，用于组织相同时间周期、相同维度的多个原子指标、派生指标或统计粒度的统计数据，为后续的业务查询，OLAP分析，数据分发等提供基础
前提条件：
1. 已创建数据分层。数据分层是将相同功能作用的表挂载至统一的数据层，方便您查找使用。应用表通常挂载于应用数据层，用于将一个统计粒度（维度或维度组合）及该粒度下的多个指标汇总输出，为后续的业务查询，数据分发等提供基础
2. 已创建数据集市或主题域，用于确定统计数据的业务场景
3.已创建时间周期，用于确定统计数据的时间范围

## 数据模型？ 理解这DataWorks概念有 区别
前提条件：逻辑模型--应用表  